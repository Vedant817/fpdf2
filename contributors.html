<!DOCTYPE html>
<html lang="en"><head>
    <title>Map of py-pdf/fpdf2 contributors</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="node_modules/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="node_modules/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <style>
    footer, h1 { text-align: center; font-family: Courier; }
    #contributors-map { height: 35rem; max-width: 64rem; margin: 0 auto; }
    </style>
</head>
<body>
    <script src="node_modules/leaflet/dist/leaflet.js"></script>
    <script src="node_modules/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    <h1>Contributors of the <a href="https://github.com/py-pdf/fpdf2">py-pdf/fpdf2</a> project</h1>
    <div id="contributors-map"></div>
    <footer>Generated by a Python script &amp; LeafletJS - <a href="https://github.com/py-pdf/fpdf2/tree/master/contributors">sources</a></footer>
    <script>
    const ACCESS_TOKEN = 'pk.eyJ1IjoibGNpbW9uIiwiYSI6ImNrcWYxYXN2YjE5azMyd25tajE4NTk4cWMifQ.ur-iSyNaDXYhc7XDfziEYg';
    const EMOJI_KEY = {"a11y": "\ufe0f\u267f\ufe0f", "audio": "\ud83d\udd0a", "blog": "\ud83d\udcdd", "bug": "\ud83d\udc1b", "business": "\ud83d\udcbc", "code": "\ud83d\udcbb", "content": "\ud83d\udd8b", "data": "\ud83d\udd23", "design": "\ud83c\udfa8", "doc": "\ud83d\udcd6", "eventOrganizing": "\ud83d\udccb", "example": "\ud83d\udca1", "financial": "\ud83d\udcb5", "fundingFinding": "\ud83d\udd0d", "ideas": "\ud83e\udd14", "infra": "\ud83d\ude87", "maintenance": "\ud83d\udea7", "mentoring": "\ud83e\uddd1\u200d\ud83c\udfeb", "platform": "\ud83d\udce6", "plugin": "\ud83d\udd0c", "projectManagement": "\ud83d\udcc6", "question": "\ud83d\udcac", "research": "\ud83d\udd2c", "review": "\ud83d\udc40", "security": "\ud83d\udee1\ufe0f", "talk": "\ud83d\udce2", "test": "\u26a0\ufe0f", "tool": "\ud83d\udd27", "translation": "\ud83c\udf0d", "tutorial": "\u2705"};

    const contributors = [
    {
        name: 'andersonhc',
        contributions: ['question', 'code', 'research', 'bug', 'doc', 'ideas', 'maintenance'],
        location: 'Montreal, Canada',
        pulls: 22,
        issues: 3,
    },
    {
        name: 'Lucas-C',
        contributions: ['blog', 'code', 'doc', 'infra', 'maintenance', 'question', 'bug'],
        location: 'Angers & Nantes, France',
        pulls: 86,
        issues: 14,
    },
    {
        name: 'yashovardhan99',
        contributions: [],
        location: 'India',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'dabell-cc',
        contributions: ['code'],
        location: 'Kitchener, Ontario',
        pulls: 1,
        issues: 2,
    },
    {
        name: 'dlespiau',
        contributions: ['code'],
        location: 'London',
        pulls: 2,
        issues: 0,
    },
    {
        name: 'evilaliv3',
        contributions: [],
        location: 'Milano, Italy',
        pulls: 1,
        issues: 2,
    },
    {
        name: 'JanB1',
        contributions: [],
        location: 'Switzerland',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'spacegaori',
        contributions: ['code'],
        location: 'Vancouver, BC',
        pulls: 2,
        issues: 0,
    },
    {
        name: 'jmunoz94',
        contributions: ['test', 'doc', 'translation'],
        location: 'Piedecuesta, Colombia',
        pulls: 1,
        issues: 0,
    },
    {
        name: 'moi90',
        contributions: [],
        location: 'Kiel, Germany',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'kuth-chi',
        contributions: ['translation'],
        location: 'Cambodia',
        pulls: 3,
        issues: 1,
    },
    {
        name: 'Oripy',
        contributions: [],
        location: 'France',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'weltkante',
        contributions: ['bug'],
        location: 'Germany',
        pulls: 0,
        issues: 2,
    },
    {
        name: 'salfter',
        contributions: [],
        location: 'Las Vegas, NV',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'emmanuel-ferdman',
        contributions: [],
        location: 'Israel',
        pulls: 1,
        issues: 0,
    },
    {
        name: 'DeepBlackHole',
        contributions: ['translation'],
        location: 'Slovenia',
        pulls: 2,
        issues: 0,
    },
    {
        name: 'johnnynunez',
        contributions: [],
        location: 'Barcelona',
        pulls: 0,
        issues: 2,
    },
    {
        name: 'mschoettle',
        contributions: ['doc', 'bug'],
        location: 'Montreal, Canada',
        pulls: 1,
        issues: 1,
    },
    {
        name: 'simkessy',
        contributions: [],
        location: 'USA',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'osresearch',
        contributions: [],
        location: 'AMS',
        pulls: 1,
        issues: 0,
    },
    {
        name: 'viniciustozzi',
        contributions: [],
        location: 'Germany',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'K-Hern',
        contributions: [],
        location: 'Bend, OR',
        pulls: 1,
        issues: 0,
    },
    {
        name: 'kevinthenet',
        contributions: ['bug'],
        location: 'California',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'whoisltd',
        contributions: ['bug', 'code'],
        location: 'Hanoi',
        pulls: 1,
        issues: 1,
    },
    {
        name: 'philj56',
        contributions: ['bug'],
        location: 'United Kingdom',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'beldaz',
        contributions: ['bug'],
        location: 'Sydney, Australia',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'prainbow55',
        contributions: [],
        location: 'Sioux Falls, South Dakota, USA',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'bmiklautz',
        contributions: ['doc'],
        location: 'Vienna, Austria',
        pulls: 1,
        issues: 1,
    },
    {
        name: 'jhenriquelc',
        contributions: ['doc'],
        location: 'Cornélio Procópio - Paraná, Brazil',
        pulls: 1,
        issues: 0,
    },
    {
        name: 'stevesimmons',
        contributions: ['bug'],
        location: 'Amsterdam and London',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'smilerightnow',
        contributions: [],
        location: 'Orléans, France',
        pulls: 2,
        issues: 0,
    },
    {
        name: 'Alexis-Falquier',
        contributions: [],
        location: 'San Diego',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'odhyp',
        contributions: ['translation'],
        location: 'Indonesia',
        pulls: 1,
        issues: 0,
    },
    {
        name: 'munlicode',
        contributions: [],
        location: 'Astana',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'Natgho',
        contributions: ['translation'],
        location: 'Istanbul',
        pulls: 1,
        issues: 0,
    },
    {
        name: 'kreier',
        contributions: [],
        location: 'Ho Chi Minh City, Vietnam',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'nocalla',
        contributions: ['bug'],
        location: 'Ireland',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'david-fed',
        contributions: ['code'],
        location: 'Zürich, Switzerland',
        pulls: 1,
        issues: 0,
    },
    {
        name: 'exiva',
        contributions: [],
        location: 'Information Super Highway',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'rfc-st',
        contributions: [],
        location: 'Madrid, Spain',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'smitelli',
        contributions: ['bug'],
        location: 'Durham, NC',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'AlexanderPodorov',
        contributions: [],
        location: 'Detroit, US',
        pulls: 0,
        issues: 1,
    },
    {
        name: 'carlhiggs',
        contributions: ['code'],
        location: 'Melbourne, Australia',
        pulls: 2,
        issues: 1,
    },
    {
        name: 'DarekRepos',
        contributions: ['translation'],
        location: 'Poland',
        pulls: 1,
        issues: 0,
    },
    {
        name: 'reingart',
        contributions: ['code'],
        location: 'Buenos Aires, Argentina',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'eumiro',
        contributions: ['code', 'test'],
        location: 'Wien, AT',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'fbernhart',
        contributions: ['code', 'test'],
        location: 'Germany',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'eocasio',
        contributions: ['code', 'test'],
        location: 'Puerto Rico',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'marcelotduarte',
        contributions: ['code'],
        location: 'Mariana-MG-Brazil',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'RomanKharin',
        contributions: ['code', 'ideas'],
        location: 'KG, Bishkek',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'cgfrost',
        contributions: ['bug', 'code'],
        location: 'England',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'kalbermattenm',
        contributions: ['bug', 'code'],
        location: 'Neuchâtel, Switzerland',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'yanone',
        contributions: ['code'],
        location: 'Dresden, Germany',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'leoleozhu',
        contributions: ['code'],
        location: 'Shanghai',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'abishek',
        contributions: ['code'],
        location: 'India',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'jredrejo',
        contributions: ['code'],
        location: 'Mérida - Spain',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'jugmac00',
        contributions: ['code'],
        location: 'Bavaria',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'leonelcamara',
        contributions: ['code'],
        location: 'Lisbon, Portugal',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'mark-steadman',
        contributions: ['bug', 'code'],
        location: 'London',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'sergeyfitts',
        contributions: ['code'],
        location: 'Saint Petersburg',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'Stan-C421',
        contributions: ['code'],
        location: 'Valencia, Spain',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'viraj-shah18',
        contributions: ['code'],
        location: 'San Diego, CA',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'niphlod',
        contributions: ['code'],
        location: 'Milan, Italy',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'portfedh',
        contributions: ['doc', 'tutorial'],
        location: 'Mexico City ',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'AABur',
        contributions: ['translation'],
        location: 'Limassol (Cyprus)',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'Tititesouris',
        contributions: ['translation'],
        location: 'Austria',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'paulacampigotto',
        contributions: ['bug', 'code', 'review'],
        location: 'Joinville - Santa Catarina, Brazil',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'lcomrade',
        contributions: ['doc', 'bug', 'code'],
        location: 'Kyrgyzstan, Bishkek',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'Spenhouet',
        contributions: ['bug', 'review'],
        location: 'Tübingen, Germany',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'RedShy',
        contributions: ['code', 'question', 'design'],
        location: 'Italy',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'feiticeir0',
        contributions: ['bug'],
        location: 'Portugal',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'iwayankurniawan',
        contributions: ['doc'],
        location: 'Stockholm',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'comino',
        contributions: ['doc'],
        location: 'Munich',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'gonzalobarbaran',
        contributions: ['code'],
        location: 'Argentina',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'hackinteach',
        contributions: ['doc', 'bug'],
        location: 'Thailand',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'sokratisvas',
        contributions: ['translation'],
        location: 'Athens, Greece',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'Jmillan-Dev',
        contributions: ['code'],
        location: 'Mexico',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'yk-jp',
        contributions: ['code'],
        location: 'Tokyo, Japan',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'darioackermann',
        contributions: ['bug'],
        location: 'Zurich, Switzerland',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'JDeepD',
        contributions: ['question'],
        location: 'Bengaluru, Karnataka',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'seanpmulholland',
        contributions: ['code'],
        location: 'Los Angeles, CA',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'CY-Qiu',
        contributions: ['bug'],
        location: 'Chengdu',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'eroux',
        contributions: ['bug', 'ideas', 'code', 'question'],
        location: 'Dijon, France',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'ruiz-manuel',
        contributions: ['bug'],
        location: 'Mexico City',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'nsimonovici',
        contributions: ['bug'],
        location: 'Lyon, France',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'ssavi-ict',
        contributions: ['translation', 'doc', 'question'],
        location: 'New Taipei',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'KamarulAdha',
        contributions: ['doc'],
        location: 'Ljubljana, Slovenia',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'RubendeBruin',
        contributions: ['bug', 'code', 'doc'],
        location: 'Netherlands',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'alcnaka',
        contributions: ['translation'],
        location: 'Japan',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'lfavole',
        contributions: ['code'],
        location: 'France',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'Niwo1403',
        contributions: ['bug'],
        location: 'Berlin (Germany)',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'SaiHarshaK',
        contributions: ['code'],
        location: 'Hyderabad',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'afriedman412',
        contributions: ['code'],
        location: 'Brooklyn, NY',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'mjasperse',
        contributions: ['bug', 'code'],
        location: 'Melbourne, Australia',
        pulls: 0,
        issues: 0,
    },
    {
        name: 'Alan-Collins',
        contributions: ['code'],
        location: 'Atlanta, GA',
        pulls: 0,
        issues: 0,
    },];

    const cMap = L.map('contributors-map').setView([0, 0], 2);

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
        maxZoom: 18,
        id: 'mapbox/streets-v11',
        tileSize: 512,
        zoomOffset: -1,
        accessToken: ACCESS_TOKEN,
    }).addTo(cMap);

    const geocoder = L.Control.Geocoder.nominatim();
    function placeNextContributor() {
        const contributor = contributors[0];
        geocoder.geocode(contributor.location, (results) => {
            const topResult = results[0];
            console.log(`geocoding ${contributor.name} topResult: ${JSON.stringify(topResult, null, 2)}`);
            if (topResult) {
                let popupHtml = `<a href="https://github.com/${contributor.name}" target="_blank"><b>${contributor.name}</b></a><br>`;
                if (contributor.location) {
                    popupHtml += `${contributor.location}<br>`;
                }
                if (contributor.contributions.length) {
                    popupHtml += `Contributions: ${contributor.contributions.map(c => `<span title="${c}">${EMOJI_KEY[c]}</span>`).join(" - ")}<br>`;
                }
                if (contributor.issues || contributor.pulls) {
                    popupHtml += `<a href="https://github.com/py-pdf/fpdf2/issues?q=author%3A${contributor.name}" target="_blank">`;
                }
                if (contributor.issues) {
                    popupHtml += `Opened ${contributor.issues} issue`;
                    if (contributor.issues > 1) popupHtml += 's';
                }
                if (contributor.pulls) {
                    popupHtml += contributor.issues ? ' and s' : 'S';
                    popupHtml += `ubmitted ${contributor.pulls} PR`;
                    if (contributor.pulls > 1) popupHtml += 's';
                }
                if (contributor.issues || contributor.pulls) {
                    popupHtml += `</a>`;
                }
                L.marker(jitterSimilarPositions(topResult.center)).bindPopup(popupHtml).addTo(cMap);
            }
            contributors.shift();
            if (contributors.length > 0) {
                placeNextContributor();
            }
        });
    }
    placeNextContributor();

    /*
     * Sometimes, several users have the exact same location.
     * For those cases, we introduce some jitter in their lat/lng coordinates
     * in order for the map markers to be visually distinct.
     */
    const POS_INCRS = [
        { dlat: 0.1, dlng: 0.1},
        { dlat: 0.1, dlng: -0.1},
        { dlat: -0.1, dlng: -0.1},
        { dlat: -0.1, dlng: 0.1},
    ];
    const positionsVisited = new Set();
    function jitterSimilarPositions(pos) {
        const origLat = pos.lat, origLng = pos.lng;
        let posStr = `${pos.lat}-${pos.lng}`;
        let incr_i = 0;
        let incr_factor = 1;
        while (positionsVisited.has(posStr)) {
            pos.lat = origLat + POS_INCRS[incr_i].dlat * incr_factor;
            pos.lng = origLng + POS_INCRS[incr_i].dlng * incr_factor;
            posStr = `${pos.lat}-${pos.lng}`;
            incr_i++;
            if (incr_i === POS_INCRS.length) {
                incr_factor++;
                incr_i = 0;
            }
        }
        positionsVisited.add(posStr);
        return pos;
    }
    </script>
</body></html>